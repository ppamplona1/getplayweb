package pt.uc.dei.aor.projeto3.grupod.managedBeans;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

import java.util.logging.Level;
import java.util.logging.Logger;
import javax.annotation.PostConstruct;
import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.bean.RequestScoped;
import javax.faces.bean.SessionScoped;
import javax.faces.model.DataModel;
import pt.uc.dei.aor.projeto3.grupod.entities.Music;
import pt.uc.dei.aor.projeto3.grupod.entities.Playlist;
import pt.uc.dei.aor.projeto3.grupod.entities.UserPlay;
import pt.uc.dei.aor.projeto3.grupod.exceptions.PlaylistNameException;
import pt.uc.dei.aor.projeto3.grupod.facades.PlaylistFacade;
import pt.uc.dei.aor.projeto3.grupod.managedBeans.LogedUserManagedBean;
import pt.uc.dei.aor.projeto3.grupod.managedBeans.PlaylistManagedBean;

/**
 *
 * @author User
 */
@ManagedBean
@SessionScoped
public class EditPlaylistManagedBean {

    /**
     * Creates a new instance of EditPlaylistManagedBean
     */
    private Playlist p;
    
    private UserPlay u;
    
    private String errorMessage;

    @EJB
    private PlaylistFacade pf;
    
    
    @ManagedProperty(value = "#{logedUserManagedBean}")
    private LogedUserManagedBean logedUserMB;
    


    public EditPlaylistManagedBean() {

    }
    
   

    public Playlist getP() {
        return p;
    }

    public void setP(Playlist p) {
        this.p = p;
    }
    
    
   

    public String edit() {
        try {
            Playlist play = pf.searchPlaylist(p);
        } catch (PlaylistNameException ex) {
            Logger.getLogger(EditPlaylistManagedBean.class.getName()).log(Level.SEVERE, null, ex);
            errorMessage = ex.getMessage();
            return "editPlaylist";
        }
        
        pf.edit(p);
        return "myPlaylists";
        

    }

    public PlaylistFacade getPf() {
        return pf;
    }

    public void setPf(PlaylistFacade pf) {
        this.pf = pf;
    }

    public UserPlay getU() {
        return u;
    }

    public void setU(UserPlay u) {
        this.u = u;
    }

    public String getErrorMessage() {
        return errorMessage;
    }

    public void setErrorMessage(String errorMessage) {
        this.errorMessage = errorMessage;
    }

    

    public LogedUserManagedBean getLogedUserMB() {
        return logedUserMB;
    }

    public void setLogedUserMB(LogedUserManagedBean logedUserMB) {
        this.logedUserMB = logedUserMB;
    }
    
  
    
    
    
}
